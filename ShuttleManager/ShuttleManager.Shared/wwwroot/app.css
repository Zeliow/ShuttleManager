html, body {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

a, .btn-link {
    color: #006bb7;
}

.btn-primary {
    color: #fff;
    background-color: #1b6ec2;
    border-color: #1861ac;
}

/*.btn:focus, .btn:active:focus, .btn-link.nav-link:focus, .form-control:focus, .form-check-input:focus {
  box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem #258cfb;
}*/

.content {
    padding-top: 1.1rem;
}

h1:focus {
    outline: none;
}

.valid.modified:not([type=checkbox]) {
    outline: 1px solid #26b050;
}

.invalid {
    outline: 1px solid #e50000;
}

.validation-message {
    color: #e50000;
}

.blazor-error-boundary {
    background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYiIGhlaWdodD0iNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIG92ZXJmbG93PSJoaWRkZW4iPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcDAiPjxyZWN0IHg9IjIzNSIgeT0iNTEiIHdpZHRoPSI1NiIgaGVpZ2h0PSI0OSIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMCkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMzUgLTUxKSI+PHBhdGggZD0iTTI2My41MDYgNTFDMjY0LjcxNyA1MSAyNjUuODEzIDUxLjQ4MzcgMjY2LjYwNiA1Mi4yNjU4TDI2Ny4wNTIgNTIuNzk4NyAyNjcuNTM5IDUzLjYyODMgMjkwLjE4NSA5Mi4xODMxIDI5MC41NDUgOTIuNzk1IDI5MC42NTYgOTIuOTk2QzI5MC44NzcgOTMuNTEzIDI5MSA5NC4wODE1IDI5MSA5NC42NzgyIDI5MSA5Ny4wNjUxIDI4OS4wMzggOTkgMjg2LjYxNyA5OUwyNDAuMzgzIDk5QzIzNy45NjMgOTkgMjM2IDk3LjA2NTEgMjM2IDk0LjY3ODIgMjM2IDk0LjM3OTkgMjM2LjAzMSA5NC4wODg2IDIzNi4wODkgOTMuODA3MkwyMzYuMzM4IDkzLjAxNjIgMjM2Ljg1OCA5Mi4xMzE0IDI1OS40NzMgNTMuNjI5NCAyNTkuOTYxIDUyLjc5ODUgMjYwLjQwNyA1Mi4yNjU4QzI2MS4yIDUxLjQ4MzcgMjYyLjI5NiA1MSAyNjMuNTA2IDUxWk0yNjMuNTg2IDY2LjAxODNDMjYwLjczNyA2Ni4wMTgzIDI1OS4zMTMgNjcuMTI0NSAyNTkuMzEzIDY5LjMzNyAyNTkuMzEzIDY5LjYxMDIgMjU5LjMzMiA2OS44NjA4IDI1OS4zNzEgNzAuMDg4N0wyNjEuNzk1IDg0LjAxNjEgMjY1LjM4IDg0LjAxNjEgMjY3LjgyMSA2OS43NDc1QzI2Ny44NiA2OS43MzA5IDI2Ny44NzkgNjkuNTg3NyAyNjcuODc5IDY5LjMxNzkgMjY3Ljg3OSA2Ny4xMTgyIDI2Ni40NDggNjYuMDE4MyAyNjMuNTg2IDY2LjAxODNaTTI2My41NzYgODYuMDU0N0MyNjEuMDQ5IDg2LjA1NDcgMjU5Ljc4NiA4Ny4zMDA1IDI1OS43ODYgODkuNzkyMSAyNTkuNzg2IDkyLjI4MzcgMjYxLjA0OSA5My41Mjk1IDI2My41NzYgOTMuNTI5NSAyNjYuMTE2IDkzLjUyOTUgMjY3LjM4NyA5Mi4yODM3IDI2Ny4zODcgODkuNzkyMSAyNjcuMzg3IDg3LjMwMDUgMjY2LjExNiA4Ni4wNTQ3IDI2My41NzYgODYuMDU0N1oiIGZpbGw9IiNGRkU1MDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvZz48L3N2Zz4=) no-repeat 1rem/1.8rem, #b32121;
    padding: 1rem 1rem 1rem 3.7rem;
    color: white;
}

    .blazor-error-boundary::after {
        content: "An error has occurred."
    }

.darker-border-checkbox.form-check-input {
    border-color: #929292;
}

.form-floating > .form-control-plaintext::placeholder, .form-floating > .form-control::placeholder {
    color: var(--bs-secondary-color);
    text-align: end;
}

.form-floating > .form-control-plaintext:focus::placeholder, .form-floating > .form-control:focus::placeholder {
    text-align: start;
}

/* wwwroot/css/app.css */

/* Светлая тема по умолчанию */
:root {
    --bg-color: #ffffff;
    --text-color: #212529;
    --card-bg: #ffffff;
    --card-header-bg: #f8f9fa;
    --card-body-bg: #ffffff;
    --border-color: #dee2e6;
    --btn-primary-bg: #0d6efd;
    --btn-primary-hover-bg: #0b5ed7;
    --btn-text-color: #ffffff;
    --btn-outline-success-color: #198754;
    --btn-outline-success-border-color: #198754;
    --btn-outline-success-hover-bg: #198754;
    --btn-outline-success-hover-color: #ffffff;
    --btn-danger-bg: #dc3545;
    --btn-danger-hover-bg: #bb2d3b;
    --btn-danger-text-color: #ffffff;
    --btn-secondary-bg: #6c757d;
    --btn-secondary-hover-bg: #5c636a;
    --btn-secondary-text-color: #ffffff;
    --btn-outline-primary-color: #0d6efd;
    --btn-outline-primary-border-color: #0d6efd;
    --btn-outline-primary-hover-bg: #0d6efd;
    --btn-outline-primary-hover-color: #ffffff;
    --btn-warning-bg: #ffc107;
    --btn-warning-hover-bg: #e0a800;
    --btn-warning-text-color: #000000;
    --btn-info-bg: #0dcaf0;
    --btn-info-hover-bg: #0dcaf0;
    --btn-info-text-color: #000000;
    --alert-warning-bg: #fff3cd;
    --alert-warning-border: #ffeaa7;
    --alert-warning-text: #856404;
    --alert-secondary-bg: #e9ecef;
    --alert-secondary-text: #495057;
    --terminal-bg: #f8f9fa;
    --terminal-text-color: var(--text-color);
    --terminal-border-color: var(--border-color);
    --input-bg: #ffffff;
    --input-border: #ced4da;
    --input-text: #495057;
    --input-placeholder-color: #6c757d;
    --nav-tabs-bg: #f8f9fa;
    --nav-tabs-border-color: #dee2e6;
    --nav-tabs-link-color: #0d6efd;
    --nav-tabs-link-hover-color: #0a58ca;
    --nav-tabs-link-active-color: #495057;
    --nav-tabs-link-active-bg: #ffffff;
    --nav-tabs-link-active-border-color: #dee2e6 #dee2e6 #ffffff;
    --list-group-bg: #ffffff;
    --list-group-border-color: #dee2e6;
    --list-group-item-bg: #ffffff;
    --list-group-item-color: #212529;
    --list-group-item-hover-bg: #f8f9fa;
    --badge-bg-success: #198754;
    --badge-bg-warning: #ffc107;
    --badge-text-color: #ffffff;
    --badge-bg-secondary: #6c757d;
    --form-control-bg: var(--input-bg);
    --form-control-border-color: var(--input-border);
    --form-control-color: var(--input-text);
    --input-group-text-bg: #e9ecef;
    --input-group-text-color: var(--text-color);
    --scrollbar-bg: #c9c9c9;
    --scrollbar-thumb-bg: #a0a0a0;
    --scrollbar-thumb-hover-bg: #888888;
    /* --- Новые переменные для улучшения контрастности --- */
    --card-header-text-color: var(--text-color); /* Цвет текста в заголовке карточки */
    --card-header-h5-color: var(--text-color); /* Цвет текста для h5 в заголовке */
    --card-header-h6-color: var(--text-color); /* Цвет текста для h6 в заголовке */
    --badge-connected-text-color: #ffffff; /* Цвет текста для бейджа "Подключен" */
    --text-muted-color: #6c757d; /* Цвет для text-muted в светлой теме */
}

/* Тёмная тема */
[data-theme="dark"] {
    --bg-color: #212529;
    --text-color: #f8f9fa;
    --card-bg: #343a40;
    --card-header-bg: #495057;
    --card-body-bg: #343a40;
    --border-color: #6c757d;
    --btn-primary-bg: #0d6efd;
    --btn-primary-hover-bg: #0b5ed7;
    --btn-text-color: #ffffff;
    --btn-outline-success-color: #198754;
    --btn-outline-success-border-color: #198754;
    --btn-outline-success-hover-bg: #198754;
    --btn-outline-success-hover-color: #ffffff;
    --btn-danger-bg: #dc3545;
    --btn-danger-hover-bg: #bb2d3b;
    --btn-danger-text-color: #ffffff;
    --btn-secondary-bg: #6c757d;
    --btn-secondary-hover-bg: #5c636a;
    --btn-secondary-text-color: #ffffff;
    --btn-outline-primary-color: #adb5bd;
    --btn-outline-primary-border-color: #6c757d;
    --btn-outline-primary-hover-bg: #6c757d;
    --btn-outline-primary-hover-color: #fff;
    --btn-warning-bg: #ffc107;
    --btn-warning-hover-bg: #e0a800;
    --btn-warning-text-color: #000000;
    --btn-info-bg: #0dcaf0;
    --btn-info-hover-bg: #0dcaf0;
    --btn-info-text-color: #000000;
    --alert-warning-bg: #343a40;
    --alert-warning-border: #495057;
    --alert-warning-text: #f8f9fa;
    --alert-secondary-bg: #343a40;
    --alert-secondary-text: #adb5bd;
    --terminal-bg: #1b2d00;
    --terminal-text-color: #ffce44;
    --terminal-border-color: #6c757d;
    --input-bg: #495057;
    --input-border: #6c757d;
    --input-text: #f8f9fa;
    --input-placeholder-color: #adb5bd;
    --nav-tabs-bg: #343a40;
    --nav-tabs-border-color: #6c757d;
    --nav-tabs-link-color: #adb5bd;
    --nav-tabs-link-hover-color: #e9ecef;
    --nav-tabs-link-active-color: #f8f9fa;
    --nav-tabs-link-active-bg: #343a40;
    --nav-tabs-link-active-border-color: #6c757d #6c757d #343a40;
    --list-group-bg: #343a40;
    --list-group-border-color: #6c757d;
    --list-group-item-bg: #343a40;
    --list-group-item-color: #f8f9fa;
    --list-group-item-hover-bg: #495057;
    --badge-bg-success: #198754;
    --badge-bg-warning: #ffc107;
    --badge-text-color: #000000;
    --badge-bg-secondary: #6c757d;
    --form-control-bg: var(--input-bg);
    --form-control-border-color: var(--input-border);
    --form-control-color: var(--input-text);
    --input-group-text-bg: #495057;
    --input-group-text-color: #f8f9fa;
    --scrollbar-bg: #40444b;
    --scrollbar-thumb-bg: #6c757d;
    --scrollbar-thumb-hover-bg: #5c636a;
    /* --- Обновленные переменные для тёмной темы --- */
    --card-header-text-color: #f8f9fa; /* Убедимся, что текст в заголовке карточки светлый */
    --card-header-h5-color: #f8f9fa; /* Убедимся, что h5 в заголовке карточки светлый */
    --card-header-h6-color: #f8f9fa; /* Убедимся, что h6 в заголовке карточки светлый */
    --badge-connected-text-color: #ffffff; /* Оставляем белый цвет для бейджа "Подключен" */
    --text-muted-color: #adb5bd; /* Ярче серый для text-muted в тёмной теме */
}

/* --- Применение переменных ко всем элементам --- */
/* Базовые элементы */
body {
    background-color: var(--bg-color);
    color: var(--text-color);
}

/* Карточки */
.card {
    background-color: var(--card-bg);
    color: var(--text-color);
    border-color: var(--border-color);
}

.card-header {
    background-color: var(--card-header-bg);
    color: var(--card-header-text-color); /* Используем переменную для цвета текста */
    border-color: var(--border-color);
}

    /* Уточняем стили для заголовков в заголовке карточки */
    .card-header h5 {
        color: var(--card-header-h5-color); /* Применяем переменную */
    }

    .card-header h6 {
        color: var(--card-header-h6-color); /* Применяем переменную */
    }

/* Уточняем стили для заголовков в теле карточки */
.card-body h5,
.card-body h6 {
    color: var(--text-color); /* Просто убедимся, что они следуют основному цвету */
}

.card-body .fw-bold.text-muted { /* Селектор для "Команды", "Управление", "Параметры" */
    color: var(--text-muted-color) !important; /* Используем переменную для text-muted */
}

.card-body .text-muted { /* Общий селектор для text-muted */
    color: var(--text-muted-color) !important; /* Используем переменную */
}

.card-body {
    background-color: var(--card-body-bg);
    color: var(--text-color);
}

/* Кнопки */
.btn-primary {
    background-color: var(--btn-primary-bg);
    border-color: var(--btn-primary-bg);
    color: var(--btn-text-color);
}

    .btn-primary:hover {
        background-color: var(--btn-primary-hover-bg);
        border-color: var(--btn-primary-hover-bg);
    }

.btn-outline-success {
    color: var(--btn-outline-success-color);
    border-color: var(--btn-outline-success-border-color);
}

    .btn-outline-success:hover {
        background-color: var(--btn-outline-success-hover-bg);
        border-color: var(--btn-outline-success-hover-bg);
        color: var(--btn-outline-success-hover-color);
    }

.btn-danger {
    background-color: var(--btn-danger-bg);
    border-color: var(--btn-danger-bg);
    color: var(--btn-danger-text-color);
}

    .btn-danger:hover {
        background-color: var(--btn-danger-hover-bg);
        border-color: var(--btn-danger-hover-bg);
    }

.btn-secondary {
    background-color: var(--btn-secondary-bg);
    border-color: var(--btn-secondary-bg);
    color: var(--btn-secondary-text-color);
}

    .btn-secondary:hover {
        background-color: var(--btn-secondary-hover-bg);
        border-color: var(--btn-secondary-hover-bg);
    }

.btn-outline-primary {
    color: var(--btn-outline-primary-color);
    border-color: var(--btn-outline-primary-border-color);
}

    .btn-outline-primary:hover {
        background-color: var(--btn-outline-primary-hover-bg);
        border-color: var(--btn-outline-primary-hover-bg);
        color: var(--btn-outline-primary-hover-color);
    }

.btn-warning {
    background-color: var(--btn-warning-bg);
    border-color: var(--btn-warning-bg);
    color: var(--btn-warning-text-color);
}

    .btn-warning:hover {
        background-color: var(--btn-warning-hover-bg);
        border-color: var(--btn-warning-hover-bg);
    }

.btn-info {
    background-color: var(--btn-info-bg);
    border-color: var(--btn-info-bg);
    color: var(--btn-info-text-color);
}

    .btn-info:hover {
        background-color: var(--btn-info-hover-bg);
        border-color: var(--btn-info-hover-bg);
    }

/* Алерты */
.alert-warning {
    background-color: var(--alert-warning-bg);
    border-color: var(--alert-warning-border);
    color: var(--alert-warning-text);
}

.alert-secondary {
    background-color: var(--alert-secondary-bg);
    border-color: var(--border-color);
    color: var(--alert-secondary-text);
}

/* Терминал */
.terminal-container {
    background-color: var(--terminal-bg);
    color: var(--terminal-text-color);
    border-color: var(--terminal-border-color);
    overflow-y: auto;
    padding: 5px;
    font-family: 'Consolas', 'Courier New', monospace;
    font-size: 0.75em;
}

    .terminal-container::-webkit-scrollbar {
        width: 8px;
    }

    .terminal-container::-webkit-scrollbar-track {
        background: var(--scrollbar-bg);
        border-radius: 4px;
    }

    .terminal-container::-webkit-scrollbar-thumb {
        background: var(--scrollbar-thumb-bg);
        border-radius: 4px;
    }

        .terminal-container::-webkit-scrollbar-thumb:hover {
            background: var(--scrollbar-thumb-hover-bg);
        }

/* Формы */
.form-control {
    background-color: var(--form-control-bg);
    border-color: var(--form-control-border-color);
    color: var(--form-control-color);
}

    .form-control::placeholder {
        color: var(--input-placeholder-color);
    }

.input-group-text {
    background-color: var(--input-group-text-bg);
    color: var(--input-group-text-color);
    border-color: var(--input-border);
}

/* Навигационные табы */
.nav-tabs {
    background-color: var(--nav-tabs-bg);
    border-bottom-color: var(--nav-tabs-border-color);
}

    .nav-tabs .nav-link {
        color: var(--nav-tabs-link-color);
        border-top-color: var(--nav-tabs-border-color);
        border-left-color: var(--nav-tabs-border-color);
        border-right-color: var(--nav-tabs-border-color);
    }

        .nav-tabs .nav-link:hover,
        .nav-tabs .nav-link:focus {
            color: var(--nav-tabs-link-hover-color);
            border-top-color: var(--nav-tabs-border-color);
            border-left-color: var(--nav-tabs-border-color);
            border-right-color: var(--nav-tabs-border-color);
        }

        .nav-tabs .nav-link.active,
        .nav-tabs .nav-link.active:hover,
        .nav-tabs .nav-link.active:focus {
            background-color: var(--nav-tabs-link-active-bg);
            color: var(--nav-tabs-link-active-color);
            border-color: var(--nav-tabs-link-active-border-color);
        }

/* Списки */
.list-group {
    background-color: var(--list-group-bg);
    border-color: var(--list-group-border-color);
}

.list-group-item {
    background-color: var(--list-group-item-bg);
    color: var(--list-group-item-color);
    border-color: var(--list-group-border-color);
}

    .list-group-item:hover {
        background-color: var(--list-group-item-hover-bg);
    }

/* Бейджи */
.badge.bg-success {
    background-color: var(--badge-bg-success);
    color: var(--badge-text-color);
}

.badge.bg-warning {
    background-color: var(--badge-bg-warning);
    color: var(--badge-text-color);
}

.badge.bg-secondary {
    background-color: var(--badge-bg-secondary);
    color: var(--badge-text-color);
}

/* --- Обновлённые стили для бейджей --- */
/* Бейдж "Подключен" (обычно bg-success) */
/* Цвет текста уже задан в --badge-text-color, но для bg-success он белый, что ок */
/* Бейдж "Подключение..." (обычно bg-warning) */
/* Цвет текста уже задан в --badge-text-color, но для bg-warning он чёрный, что ок */
/* Однако, если "Подключен" использует bg-success, его текст уже белый из --badge-text-color */
/* Если "Подключен" использует bg-success и у него текст слишком тёмный, проверьте, какой класс используется */
/* В вашем коде: <span class="badge @(IsConnected ? "bg-success" : "bg-warning") ms-2"> */
/* @(IsConnected ? "Подключен" : "Подключение...")</span> */
/* bg-success использует --badge-text-color (который белый для bg-success в светлой теме, но мы изменили его на чёрный для bg-warning в тёмной) */
/* bg-warning использует --badge-text-color (который чёрный в тёмной теме для bg-warning, что может быть плохо на жёлтом фоне, но мы его сделали чёрным) */
/* Всё зависит от bg-success и bg-warning. bg-success в тёмной теме использует --badge-bg-success (#198754) и --badge-text-color (#000000 в тёмной теме для bg-warning, но bg-success обычно белый текст). */
/* Проверим bg-success в тёмной теме: */
/* --badge-bg-success: #198754; --badge-text-color: #000000; */
/* Это означает, что bg-success в тёмной теме будет иметь зелёный фон и ЧЁРНЫЙ текст! Это плохо. */
/* Нужно разделить переменные для bg-success и bg-warning. */

/* --- Разделим переменные для бейджей --- */
:root {
    /* ... другие переменные ... */
    --badge-bg-success: #198754;
    --badge-bg-warning: #ffc107;
    --badge-text-color-success: #ffffff; /* Белый для зелёного бейджа */
    --badge-text-color-warning: #000000; /* Чёрный для жёлтого бейджа */
    --badge-bg-secondary: #6c757d;
    --badge-text-color-secondary: #ffffff; /* Белый для серого бейджа */
}

[data-theme="dark"] {
    /* ... другие переменные ... */
    --badge-bg-success: #198754;
    --badge-bg-warning: #ffc107;
    --badge-text-color-success: #ffffff; /* Белый для зелёного бейджа и в тёмной теме */
    --badge-text-color-warning: #000000; /* Чёрный для жёлтого бейджа и в тёмной теме */
    --badge-bg-secondary: #6c757d;
    --badge-text-color-secondary: #ffffff; /* Белый для серого бейджа и в тёмной теме */
}

/* Применяем разделённые переменные */
.badge.bg-success {
    background-color: var(--badge-bg-success);
    color: var(--badge-text-color-success);
}

.badge.bg-warning {
    background-color: var(--badge-bg-warning);
    color: var(--badge-text-color-warning);
}

.badge.bg-secondary {
    background-color: var(--badge-bg-secondary);
    color: var(--badge-text-color-secondary);
}

/* Иконки (Bootstrap Icons) */
.bi {
    color: var(--text-color);
}

.btn .bi {
    color: inherit;
}

/* Добавим плавный переход */
* {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* ============================= */
/* SENSOR PANEL (theme adaptive) */
/* ============================= */

.sensor-panel {
    background-color: var(--card-body-bg);
    color: var(--text-color);
    font-family: 'Consolas', 'Courier New', monospace;
}

.sensor-tile {
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 6px 8px;
    height: 100%;
}

    .sensor-tile .title {
        font-size: 11px;
        color: var(--text-muted-color);
        letter-spacing: 0.5px;
    }

    .sensor-tile .value {
        font-size: 18px;
        font-weight: 600;
        color: var(--text-color);
    }

/* ===== Hardware indicators ===== */

.hardware-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 6px;
}

.hw-indicator {
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    font-size: 11px;
    text-align: center;
    padding: 6px 4px;
    border-radius: 4px;
    color: var(--text-muted-color);
    font-weight: 500;
}

    /* ACTIVE state uses success color from theme */

    .hw-indicator.active {
        background-color: var(--badge-bg-success);
        color: var(--badge-text-color-success);
        border-color: var(--badge-bg-success);
        font-weight: 600;
    }

/* ===== Value state modifiers ===== */

.sensor-ok {
    color: var(--badge-bg-success);
}

.sensor-warning {
    color: var(--badge-bg-warning);
}

.sensor-danger {
    color: var(--btn-danger-bg);
}

/* ===== Compact spacing to match existing layout ===== */

.sensor-panel .row {
    margin-left: -4px;
    margin-right: -4px;
}

.sensor-panel .col-6,
.sensor-panel .col-12 {
    padding-left: 4px;
    padding-right: 4px;
}

/* Slight hover feedback (industrial subtle) */
.sensor-tile:hover {
    border-color: var(--btn-outline-primary-border-color);
}